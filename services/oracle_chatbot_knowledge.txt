# LOV Context
Consider these List of values for LOV Reference Values:

SITE_STATUS:
- 'On Air'
- 'Proposed'
- 'Site returned to operator'

TRANSACTION_STATUS:
- 'Arrear'
- 'Advance'
- 'Credit Note'
- 'Supplementary'

TENANCY_TYPE:
- 'Anchor'
- 'Co-Location'

LEASESTATUS:
- 'Active'
- 'Canceled'

CUSTOMER_NAME:
- 'AIRTEL MALAWI'
- 'Airtel DRC'
- 'MTN CB'

# Alias Context
- "amount", "price", "total amount", "value" refer to ADDITIONAL_RATE in TXN_SITE_INVOICE_DETAILS.
- "invoice number" refers to invoice_id in TXN_SITE_INVOICE_DETAILS.
- "Site" refers to the column SITE_STATUS in TXN_SITE_DETAILS.


# Business Logic Context
Business Domain: Telecom Tower Billing â€“ iBill

Relationships:
TXN_SITE_DETAILS
Identified by: SITERRA_SITE_ID, COUNTRY_ID
One site can host multiple tenancies.

TXN_TENANCY_DETAILS
Linked to sites via: SITERRA_SITE_ID, COUNTRY_ID
Identified by: SAP_CUSTOMER_NO
A tenancy belongs to a site.

TXN_BASE_LEASE_RATE
Linked to tenancy by: SITERRA_SITE_ID, COUNTRY_ID, SAP_CUSTOMER_NO
Contains lease pricing: SITE_BILLING_TYPE, TENANCY_CLASSIFICATION, LEASE_COMPONENT

TXN_AMD_QUANTITY
Linked to base lease via: SITERRA_SITE_ID, COUNTRY_ID, SAP_CUSTOMER_NO
Stores amendment quantities by item.

TXN_AMD_PRICING
Linked to amendment quantity via: SAP_CUSTOMER_NO, COUNTRY_ID, AMD_PRICING_ITEM
Holds pricing logic for amendments.

TXN_SITE_INVOICE_DETAILS
Consolidates billing data using: COUNTRY_ID, SAP_CUSTOMER_NO, SITERRA_SITE_ID


Key filters: TENANCY_CLASSIFICATION, SITE_BILLING_TYPE, COUNTRY_ID, SITERAA_SITE_ID, SAP_CUSTOMER_NO.

# Schema Context

Table: TXN_SITE_INVOICE_DETAILS  
- invoice_id, country_id, search_month, invoice_start_date, invoice_end_date, siterra_site_id,  
- ADDITIONAL_RATE, TOTAL_NE_PRICE, TOTAL_ENERGY_PRICE, RECONCILED_AMOUNT, SITE_NAME, SITE_TYPE,  
- GRID_STATUS, REGION_NAME, SITE_STATUS, ON_AIR_DATE, SITERRA_TENANCY_ID, SAP_CUSTOMER_NO,  
- CUSTOMER_NAME, CUSTOMER_SITE_ID, CUSTOMER_NAME_KNOWN_AS, SITE_CLASS, SLA_START_DATE, ORIGINAL_EXPIRATION_DATE,  
- LEASESTART_DATE, RENT_FREE_PERIOD, RENT_START_DATE, SLA_CLASS, LEASESTATUS, TENANCY_TYPE,  
- TENANCY_CLASSIFICATION_SITE_BILLING_TYPE, ST_ID, TRANSACTION_STATUS, FX_RATE, CUSTOMER_ID, DECOM_DATE,  
- BILL_MONTH, Cancel_date

Table:TXN_SITE_DETAILS  
- country_id, BILL_MONTH, SEARCH_MONTH, ST_ID, SITERRA_SITE_ID, SITE_NAME,  
- SITE_TYPE, INTERNAL_SLA_CLASS, LEGACY_ID, FINANCE_ID, OWNERSHIP_TYPE, GRID_STATUS,  
- SHARABILITY, REGION_NAME, PROVINCE, PORTFOLIO, SITE_STATUS, SITE_SOURCE,  
- GRID_CONNECTION_DATE, ANCHOR_TENANT, MULTI_TENANCY_STATUS, TENANTS_TOTAL, ON_AIR_DATE, CONSOL_DATE,  
- DECOM_DATE, OFFLINE_DATE, RELO_DATE, TENANT_LOAD_POSITION1, TENANT_LOAD_POSITION2, TENANT_LOAD_POSITION3,  
- TRANSACTION_STATUS, STATUS, ERROR_CODE, ERROR_DESCRIPTION, CREATED_DATE, CREATED_BY,  
- MODIFIED_DATE, MODIFIED_BY, CURR_STAGE, ID

Table: TXN_TENANCY_DETAILS  
- COUNTRY_ID, BILL_MONTH, SEARCH_MONTH, SITERRA_TENANCY_ID, SAP_CUSTOMER_NO, CUSTOMER_SITE_ID,  
- CUSTOMER_NAME_KNOWN_AS, LEASESTATUS, TENANCY_TYPE, OUTDOOR, MASTER_CLASSIFICATION, TENANCY_CLASSIFICATION,  
- SITE_BILLING_TYPE, SITE_CLASS, MOVE_IN_DATE, MOVE_OUT_DATE, SLA_START_DATE, RFI_DATE,  
- SAF_DATE, ORIGINAL_EXPIRATION_DATE, CLASSIFICATION_OVER_RIDE, CANCEL_DATE, REPORTING_TOWER, LEASESTART_DATE,  
- RENT_FREE_PERIOD, RENT_END_PERIOD, RENT_END_DATE, CLASS, TRANSACTION_STATUS, STATUS,  
- ERROR_CODE, ERROR_DESCRIPTION, CREATED_DATE, CREATED_BY, MODIFIED_DATE, MODIFIED_BY,  
- CURR_STAGE, GRID_STATUS, ID, BILLING_TYPE_CHANGE_EFFECTIVE_DATE, AMENDMENT_ONLY_DISCOUNT, SITE_SPECIFIC_DISCOUNT,  
- DIFFICULT_SITE_PAYMENT_APPLICABLE


Table: TXN_BASE_LEASE_RATE  
- COUNTRY_ID, BILL_MONTH, SEARCH_MONTH, SITERRA_SITE_ID, SAP_CUSTOMER_NO, CUSTOMER_REGION,  
- TENANCY_CLASSIFICATION, SITE_BILLING_TYPE, AIRTEL_SPECIAL_OFFER, SITE_CLASS, CURRENCY, LEASE_RATE_TYPE,  
- LEASE_COMPONENT, LEASE_AMOUNT, TRANSACTION_STATUS, STATUS, ERROR_CODE, ERROR_DESCRIPTION,  
- CREATED_DATE, CREATED_BY, MODIFIED_DATE, MODIFIED_BY, CURR_STAGE, GRID_STATUS,  
- ID, CUSTOMER_ID

Table: TXN_AMD_QUANTITY  
- COUNTRY_ID, BILL_MONTH, SEARCH_MONTH, SITERRA_SITE_ID, SAP_CUSTOMER_NO, START_DATE,  
- CANCELLATION_DATE, AMD_QUANTITY_ITEM, QUANTITY, GRID_STATUS, TRANSACTION_STATUS, STATUS,  
- ERROR_CODE, ERROR_DESCRIPTION, CREATED_DATE, CREATED_BY, MODIFIED_DATE, MODIFIED_BY,  
- CURR_STAGE, ID, CUSTOMER_ID, PROJECT_NAME, ITP_REFERENCE, UNIQUE_REF

Table:TXN_AMD_PRICING  
- COUNTRY_ID, BILL_MONTH, SEARCH_MONTH, SITERRA_SITE_ID, SAP_CUSTOMER_NO, SITE_SPECIFIC_PRICING,  
- AMD_PRICING_ITEM, PCT_OF_NON_ENERGY_LEASE_RATE, CURRENCY, BENCHMARK_INDEX_OF_ESC, AMD_AMOUNT, FIRST_MONTH_ESC_APPLICABLE,  
- FREQUENCY_OF_ESCALATION, ESCALATION_CAP_PCT, ESCALATION_FLOOR_PCT, ESCALATION_MULTIPLIER_PCT, EFFECTIVE_START_DATE, EFFECTIVE_END_DATE,  
- TRANSACTION_STATUS, STATUS, ERROR_CODE, ERROR_DESCRIPTION, CREATED_DATE, CREATED_BY,  
- MODIFIED_DATE, MODIFIED_BY, CURR_STAGE, SITE_SPECIFIC_PRICING_STR, ID, GRID_STATUS,  
- CUSTOMER_ID

